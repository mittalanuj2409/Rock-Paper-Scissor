<!DOCTYPE=html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="keywords" content="HTML, CSS, JavaScript">
		<script>
			function computerMove(){
				let r = Math.floor(Math.random()*10)%3;
				let moves = ["stone", "paper", "scissor"];
				return moves[r];
			}
		</script>
		<script>
			function playerMove(){
				return window.prompt("Enter your move");
			}
		</script>
		<script>	
			function game(){
				let pMove;
				do {
					pMove = playerMove().toLowerCase();
				}
				while(pMove != 'stone' && pMove != 'paper' && pMove != 'scissor' && !alert("Invalid Input. Try again!!"));
				let cMove = computerMove();
				let score = result(pMove, cMove);
				alert(`Your Move: ${pMove}\nMy Move: ${cMove}\n${score > 0 ? 'You won this round' : (score < 0 ? 'You lose this round' : 'This round resulted in tie!')}`);			
				return score;
			}
		</script>
		<script>
			function result(pMove, cMove){
				if(pMove == 'stone')
					return cMove == 'stone' ? 0 : (cMove == 'paper' ? -1 : 1);
				else if(pMove == 'paper')
					return cMove == 'paper' ? 0 : (cMove == 'scissor' ? -1 : 1);
				else
					return cMove == 'scissor' ? 0 : (cMove == 'stone' ? -1 : 1);
			}
		</script>

		<script>
			let winCount = 0;
			for(let i=0; i<5; i++){
				winCount += game();
			}
			winCount > 0 ? alert("You Won") : (winCount < 0 ? alert("You Lose") : alert("Tournament tied"));
		</script>
	</head>
</html>